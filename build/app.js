(()=>{"use strict";var e={99:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(81),a=n.n(o),r=n(645),s=n.n(r)()(a());s.push([e.id,".some-class{color:#f0f8ff}",""]);const i=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,a,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var d=0;d<e.length;d++){var u=[].concat(e[d]);o&&s[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},s=[],i=0;i<e.length;i++){var c=e[i],d=o.base?c[0]+o.base:c[0],u=r[d]||0,l="".concat(d," ").concat(u);r[d]=u+1;var f=n(l),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var v=a(p,o);o.byIndex=i,t.splice(i,0,{identifier:l,updater:v,references:1})}s.push(l)}return s}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var r=o(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var i=n(r[s]);t[i].references--}for(var c=o(e,a),d=0;d<r.length;d++){var u=n(r[d]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=c}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,a&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(379),t=n.n(e),o=n(795),a=n.n(o),r=n(569),s=n.n(r),i=n(565),c=n.n(i),d=n(216),u=n.n(d),l=n(589),f=n.n(l),p=n(99),v={};v.styleTagTransform=f(),v.setAttributes=c(),v.insert=s().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=u(),t()(p.Z,v),p.Z&&p.Z.locals&&p.Z.locals;const m="http://json-bins.herokuapp.com/bin/614af3924021ac0e6c080cb3";let y,g,h="",b=document.querySelector("#search"),k=new Set,S=document.querySelector("#error-label"),L=document.querySelector("#context-menu"),x=!1,E=document.querySelector("#submit-add-to-do"),C=document.querySelector("#submit-add-in-progress"),w=document.querySelector("#submit-add-done"),T=document.querySelector("#save-btn"),q=document.querySelector("#load-btn");function I(e){switch(e.target.id){case"submit-add-to-do":inputValue=U("add-to-do-task"),H(inputValue,"todo",0,!0);break;case"submit-add-in-progress":inputValue=U("add-in-progress-task"),H(inputValue,"in-progress",0,!0);break;case"submit-add-done":inputValue=U("add-done-task"),H(inputValue,"done",0,!0)}_(b.value)}function O(e,t,n){let o=["todo","in-progress","done"];for(let a of n)a===n[t]&&H(e.textContent,o[t])}function j(e){let t=e.target,n=t.textContent;if(z(!1),x=!1,""===n)return z(!0,"Error: Empty task is not valid"),void(t.textContent=g);if(n!=g){const e=Y(),t=e[y.dataset.section];let o=t.indexOf(g);t[o]=n,g=n,localStorage.setItem("tasks",JSON.stringify(e)),_(b.textContent)}}function A(e){e.target.offsetParent==L&&"Delete"===e.target.dataset.type&&confirm("Are you sure you want to delete "+g+" task?")&&(X(),_(b.value)),L.classList.remove("visible"),document.removeEventListener("click",A)}function N(e){e.target.classList.add("droppable-hovered")}function M(e){e.target.classList.remove("droppable-hovered")}function J(e){let t=e.target;t.classList.remove("droppable-hovered");let n=Y()[y.dataset.section].indexOf(g);X(),function(e,t,n){t.dataset.section===y.dataset.section&&0!==e&&n<e?H(y.textContent,t.dataset.section,e-1):H(y.textContent,t.dataset.section,t.dataset.drop_div)}(parseInt(t.dataset.drop_div),t,n),_(b.textContent),z(!1)}function D(e){F(document.querySelector(".loader"),e)}function P(e,t=""){return!(null!=e&&!e.ok)||(z(!0,t+"Error! => "+e.status+" "+e.statusText),!1)}function V(e,t=[],n=[],o={},a={}){const r=document.createElement(e);for(const e of t)r.append(e);for(const e of n)r.classList.add(e);for(const e in o)r.setAttribute(e,o[e]);for(const[e,t]of Object.entries(a))r.addEventListener(e,t,!0);return r}function _(e){let t=["#div-to-do-tasks","#div-in-progress-tasks","#div-done-tasks"];for(let n of t){let t=document.querySelector(n);t.innerHTML="",t.append(K(e,t.dataset.section,[t.dataset.section+"-tasks"]))}document.querySelector("#add-to-do-task").value="",document.querySelector("#add-in-progress-task").value="",document.querySelector("#add-done-task").value=""}function Z(e){if(e){let e=document.querySelector("body"),t=[];for(let e=0;e<4;e++)t.push(V("div"));let n=V("div",t,["loader"]);F(n,window.event),e.append(n)}else document.querySelector(".loader").remove()}function H(e,t,n=0,o=!1){const a=Y(),r=a[t];""!==e?(0===n?r.unshift(e):r.splice(n,0,e),localStorage.setItem("tasks",JSON.stringify(a)),z(o,"Task was added succesfully","notification")):z(o,"Add failed, task is empty.")}function U(e){let t=document.querySelector("#"+e),n=t.value;return t.value="",n}function F(e,t){const{clientX:n,clientY:o}=t;e.style.top=`${o}px`,e.style.left=`${n}px`}function R(){return{drop:J,dragenter:N,dragleave:M}}function $(e,t){return{"data-section":e,tabIndex:t,draggable:!0}}function B(e){""!==e?(null!=y&&G(y),y=e,g=y.textContent,y.classList.contains("selected")||y.classList.add("selected")):G(y)}function G(e,t){e.classList.contains("selected")&&e.classList.remove("selected")}function K(e,t,n){const o=Y();let a=[],r=0,s=e.toLowerCase();for(let e of o[t])e.toLowerCase().includes(s)&&(a.push(V("div",[],["droppable-div"],{"data-section":t,"data-drop_div":r},R())),a.push(V("li",[e],["task"],$(t,r),{keydown:e=>{!function(e){k.add(e.keyCode);let t=[49,50,51];for(let n=0;n<t.length;n++)if(e.altKey&&k.has(t[n])){e.preventDefault();let o=e.target;X(o.textContent),O(o,n,t),_(b.textContent)}k.has(8)&&!1===x&&confirm("Are you sure you want to delete "+g+" task?")&&(X(),_(b.value)),k.clear()}(e)},contextmenu:e=>{!function(e){e.preventDefault(),B(e.target),F(L,e),L.classList.add("visible"),document.addEventListener("click",A)}(e)},click:e=>{!function(e){B(e.target)}(e)},dblclick:e=>{!function(e){let t=e.target;B(e.target),e.preventDefault(),x=!0,t.contentEditable=!0,h=t.textContent,t.addEventListener("blur",j,!0),t.focus()}(e)},dragstart:e=>{!function(e){B(e.target),e.target.style.opacity=.9}(e)},dragend:e=>{!function(e){e.target.style.opacity=""}(e)}})),r++);return a.push(V("div",[],["droppable-div"],{"data-section":t,"data-drop_div":r},R())),V("ul",a,[...n],{"data-section":t})}function X(e=g){const t=Y();let n=t[y.dataset.section].indexOf(e);-1!==n&&t[y.dataset.section].splice(n,1),localStorage.setItem("tasks",JSON.stringify(t))}function Y(){return JSON.parse(localStorage.getItem("tasks"))}function z(e,t="",n="error"){S.textContent=t,S.classList.contains("error")?"error"!=n&&Q("notification","error"):"error"==n&&Q("error","notification"),S.classList.contains("hidden")?e&&Q("visible","hidden"):e||Q("hidden","visible")}function Q(e,t){S.classList.remove(t),S.classList.add(e)}E.addEventListener("click",I),C.addEventListener("click",I),w.addEventListener("click",I),T.addEventListener("click",(async function(){await async function(){const e=localStorage.getItem("tasks");Z(!0),document.addEventListener("mousemove",D);const t=await fetch(m,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({tasks:e})});document.removeEventListener("mousemove",D),Z(!1),P(t,"Server")&&z(!0,"Tasks information was saved successfully!","notification")}(),_(b.value)})),q.addEventListener("click",(async function(){await async function(){Z(!0),document.addEventListener("mousemove",D);const e=await fetch(m,{method:"GET",headers:{"Content-Type":"application/json"}});if(document.removeEventListener("mousemove",D),Z(!1),P(e,"Loud")){let t=await e.json();localStorage.clear(),localStorage.setItem("tasks",t.tasks),z(!0,"Tasks Loaded Succesfully","notification")}}(),_(b.value)})),b.addEventListener("keyup",(function(e){"search"===e.target.id&&(_(document.getElementById("search").value),z(!1))})),document.addEventListener("click",(function(e){null!=y&&e.target!=y&&B("")})),document.addEventListener("dragover",(function(e){e.preventDefault()})),null==localStorage.getItem("tasks")&&localStorage.setItem("tasks",JSON.stringify({todo:[],"in-progress":[],done:[]})),_(b.value)})()})();